{
  "description": "Urban Atlas 2018 status - harmonised CLMS file naming convention",
  "steps": [
    {
      "check_ident": "qc_tool.vector.unzip",
      "required": true
    },
    {
      "check_ident": "qc_tool.vector.naming",
      "required": true,
      "parameters": {
        "reference_year": "2018",
        "formats": [
          ".gdb",
          ".gpkg"
        ],
        "layer_names": {
          "reference": "^clms_ua_lcu_s2018_v025ha_(?P<aoi_code>[0-9a-zA-Z]{7})_[a-zA-Z]*_(?P<epsg_code>[0-9]{5})_v[0-9]{2}_r[0-9]{2}_[0-9]{8}"
        },
        "aoi_codes": [
          "al001l1",
          "al003l1",
          "al004l1",
          "al005l0",
          "at001l3",
          "at002l3",
          "at003l3",
          "at004l3",
          "at005l3",
          "at006l2",
          "ba001l1",
          "ba002l1",
          "ba003l1",
          "ba004l1",
          "ba005l1",
          "be001l2",
          "be002l2",
          "be003l2",
          "be004l2",
          "be005l2",
          "be006l2",
          "be007l2",
          "be008l1",
          "be009l1",
          "be010l1",
          "be011l1",
          "bg001l2",
          "bg002l2",
          "bg003l2",
          "bg004l2",
          "bg005l1",
          "bg006l2",
          "bg007l2",
          "bg008l2",
          "bg009l1",
          "bg010l1",
          "bg011l1",
          "bg013l1",
          "bg014l1",
          "bg015l1",
          "bg016l1",
          "bg017l1",
          "bg018l1",
          "ch001l2",
          "ch002l2",
          "ch003l2",
          "ch004l2",
          "ch005l2",
          "ch006l1",
          "ch007l2",
          "ch008l2",
          "ch009l2",
          "ch010l1",
          "cy001l2",
          "cy501l2",
          "cz001l2",
          "cz002l2",
          "cz003l2",
          "cz004l2",
          "cz005l2",
          "cz006l2",
          "cz007l2",
          "cz008l2",
          "cz009l2",
          "cz010l2",
          "cz011l2",
          "cz013l2",
          "cz014l2",
          "cz016l2",
          "cz018l2",
          "de001l1",
          "de002l1",
          "de003l1",
          "de004l1",
          "de005l1",
          "de007l1",
          "de008l2",
          "de009l2",
          "de011l1",
          "de012l1",
          "de013l1",
          "de014l1",
          "de017l0",
          "de018l1",
          "de019l2",
          "de020l1",
          "de021l1",
          "de025l1",
          "de026l1",
          "de027l1",
          "de028l1",
          "de029l0",
          "de030l1",
          "de031l1",
          "de032l1",
          "de033l1",
          "de034l1",
          "de035l1",
          "de036l0",
          "de037l1",
          "de038l1",
          "de039l1",
          "de040l1",
          "de042l1",
          "de043l2",
          "de044l1",
          "de045l1",
          "de048l1",
          "de050l1",
          "de051l1",
          "de052l1",
          "de053l1",
          "de054l1",
          "de055l0",
          "de056l0",
          "de057l1",
          "de058l1",
          "de059l1",
          "de060l1",
          "de061l1",
          "de062l1",
          "de063l1",
          "de064l1",
          "de065l1",
          "de066l1",
          "de067l1",
          "de069l1",
          "de071l1",
          "de072l1",
          "de073l1",
          "de074l1",
          "de077l1",
          "de078l1",
          "de079l1",
          "de081l1",
          "de082l0",
          "de083l1",
          "de084l1",
          "de504l1",
          "de505l0",
          "de507l1",
          "de508l0",
          "de510l1",
          "de513l1",
          "de516l0",
          "de517l1",
          "de520l1",
          "de522l1",
          "de523l1",
          "de524l2",
          "de527l1",
          "de529l1",
          "de530l0",
          "de532l1",
          "de533l1",
          "de534l1",
          "de535l1",
          "de537l1",
          "de539l1",
          "de540l2",
          "de542l1",
          "de544l1",
          "de546l0",
          "de547l2",
          "de548l1",
          "de549l1",
          "dk001l2",
          "dk002l3",
          "dk003l2",
          "dk004l3",
          "ee001l1",
          "ee002l1",
          "ee003l0",
          "el001l1",
          "el002l1",
          "el003l1",
          "el004l1",
          "el005l1",
          "el006l1",
          "el007l1",
          "el008l1",
          "el009l1",
          "es001l3",
          "es002l2",
          "es003l3",
          "es004l3",
          "es005l2",
          "es006l2",
          "es007l2",
          "es008l2",
          "es009l2",
          "es010l2",
          "es011l2",
          "es012l2",
          "es013l2",
          "es014l3",
          "es015l2",
          "es016l2",
          "es017l2",
          "es018l2",
          "es019l3",
          "es020l2",
          "es021l2",
          "es022l2",
          "es023l2",
          "es025l3",
          "es026l2",
          "es028l1",
          "es031l1",
          "es033l1",
          "es034l1",
          "es035l1",
          "es039l1",
          "es040l1",
          "es041l1",
          "es043l1",
          "es044l1",
          "es046l1",
          "es048l1",
          "es050l1",
          "es053l1",
          "es054l1",
          "es057l1",
          "es059l1",
          "es070l1",
          "es072l1",
          "es501l3",
          "es505l1",
          "es506l1",
          "es508l1",
          "es510l1",
          "es514l1",
          "es515l1",
          "es516l1",
          "es519l1",
          "es520l1",
          "es521l1",
          "es522l1",
          "es523l1",
          "es525l1",
          "es527l1",
          "es528l1",
          "es529l1",
          "es532l1",
          "es533l1",
          "es537l1",
          "es538l1",
          "es542l1",
          "es543l1",
          "es544l1",
          "es545l1",
          "es546l1",
          "es547l1",
          "es550l1",
          "es552l1",
          "fi001l3",
          "fi002l3",
          "fi003l4",
          "fi004l4",
          "fi007l2",
          "fi008l2",
          "fi009l2",
          "fr001l1",
          "fr003l2",
          "fr004l2",
          "fr006l2",
          "fr007l2",
          "fr008l2",
          "fr009l2",
          "fr010l2",
          "fr011l2",
          "fr012l2",
          "fr013l2",
          "fr014l2",
          "fr016l2",
          "fr017l2",
          "fr018l2",
          "fr019l2",
          "fr020l2",
          "fr021l2",
          "fr022l2",
          "fr023l2",
          "fr024l2",
          "fr025l2",
          "fr026l2",
          "fr027l2",
          "fr028l1",
          "fr030l1",
          "fr032l2",
          "fr034l2",
          "fr035l2",
          "fr036l2",
          "fr037l2",
          "fr038l2",
          "fr039l1",
          "fr040l2",
          "fr042l2",
          "fr043l2",
          "fr044l2",
          "fr045l2",
          "fr046l2",
          "fr047l0",
          "fr048l2",
          "fr049l2",
          "fr050l2",
          "fr051l2",
          "fr052l2",
          "fr053l2",
          "fr056l2",
          "fr057l2",
          "fr058l2",
          "fr059l2",
          "fr060l2",
          "fr061l2",
          "fr062l2",
          "fr063l2",
          "fr064l2",
          "fr065l2",
          "fr066l2",
          "fr067l2",
          "fr068l2",
          "fr069l2",
          "fr073l2",
          "fr074l2",
          "fr076l2",
          "fr077l2",
          "fr079l2",
          "fr082l2",
          "fr084l2",
          "fr086l2",
          "fr090l2",
          "fr093l2",
          "fr096l2",
          "fr099l2",
          "fr104l2",
          "fr203l2",
          "fr205l2",
          "fr207l2",
          "fr208l1",
          "fr209l2",
          "fr214l1",
          "fr215l2",
          "fr304l1",
          "fr324l1",
          "fr505l1",
          "fr506l1",
          "fr519l1",
          "hr001l2",
          "hr002l2",
          "hr003l2",
          "hr004l2",
          "hr005l2",
          "hr006l1",
          "hr007l1",
          "hu001l2",
          "hu002l2",
          "hu003l2",
          "hu004l2",
          "hu005l2",
          "hu006l2",
          "hu007l2",
          "hu008l2",
          "hu009l2",
          "hu010l1",
          "hu011l1",
          "hu012l1",
          "hu013l1",
          "hu014l1",
          "hu015l1",
          "hu016l1",
          "hu017l1",
          "hu018l1",
          "hu019l1",
          "ie001l1",
          "ie002l1",
          "ie003l1",
          "ie004l1",
          "ie005l1",
          "is001l1",
          "it001l3",
          "it002l3",
          "it003l3",
          "it004l2",
          "it005l3",
          "it006l3",
          "it007l3",
          "it008l3",
          "it009l1",
          "it010l2",
          "it011l2",
          "it012l3",
          "it013l3",
          "it014l3",
          "it015l1",
          "it016l3",
          "it017l3",
          "it019l2",
          "it020l3",
          "it021l2",
          "it022l2",
          "it023l2",
          "it024l3",
          "it025l3",
          "it026l3",
          "it027l2",
          "it028l3",
          "it029l3",
          "it030l3",
          "it031l3",
          "it032l3",
          "it033l2",
          "it034l1",
          "it035l2",
          "it036l2",
          "it037l1",
          "it038l1",
          "it039l2",
          "it040l2",
          "it041l2",
          "it042l1",
          "it043l2",
          "it045l2",
          "it046l2",
          "it047l1",
          "it048l2",
          "it052l1",
          "it054l1",
          "it056l1",
          "it057l2",
          "it058l2",
          "it060l1",
          "it061l0",
          "it064l1",
          "it065l0",
          "it066l1",
          "it067l0",
          "it068l1",
          "it069l1",
          "it073l1",
          "it501l2",
          "it502l2",
          "it503l3",
          "it504l3",
          "it505l3",
          "it506l2",
          "it507l2",
          "it508l3",
          "it509l3",
          "it511l2",
          "it512l3",
          "it513l3",
          "it514l2",
          "it515l2",
          "it516l2",
          "it518l1",
          "it519l1",
          "it520l1",
          "it521l1",
          "it522l1",
          "it523l1",
          "it524l0",
          "it525l0",
          "it526l1",
          "lt001l1",
          "lt002l1",
          "lt003l1",
          "lt004l0",
          "lt501l0",
          "lt502l0",
          "lu001l1",
          "lv001l1",
          "lv002l2",
          "lv003l1",
          "lv501l1",
          "me001l1",
          "mk001l1",
          "mk003l1",
          "mk004l1",
          "mk005l1",
          "mt001l1",
          "nl001l3",
          "nl002l3",
          "nl003l3",
          "nl004l3",
          "nl005l3",
          "nl006l3",
          "nl007l3",
          "nl008l3",
          "nl009l3",
          "nl010l3",
          "nl012l3",
          "nl013l3",
          "nl014l3",
          "nl015l3",
          "nl016l3",
          "nl020l3",
          "nl026l0",
          "nl028l3",
          "nl030l0",
          "nl032l3",
          "nl503l3",
          "nl504l3",
          "nl505l3",
          "nl507l3",
          "nl511l3",
          "nl512l3",
          "nl513l3",
          "nl514l3",
          "nl515l3",
          "nl519l3",
          "nl520l3",
          "nl521l3",
          "nl522l3",
          "nl524l3",
          "nl529l3",
          "no001l1",
          "no002l1",
          "no003l1",
          "no004l1",
          "no005l1",
          "no006l1",
          "pl001l2",
          "pl002l2",
          "pl003l2",
          "pl004l2",
          "pl005l2",
          "pl006l2",
          "pl007l2",
          "pl008l2",
          "pl009l2",
          "pl010l2",
          "pl011l2",
          "pl012l2",
          "pl013l2",
          "pl014l2",
          "pl015l2",
          "pl016l2",
          "pl017l2",
          "pl018l2",
          "pl019l2",
          "pl020l2",
          "pl021l2",
          "pl022l2",
          "pl024l2",
          "pl025l2",
          "pl026l2",
          "pl027l2",
          "pl028l2",
          "pl029l1",
          "pl030l1",
          "pl031l1",
          "pl032l1",
          "pl033l1",
          "pl034l1",
          "pl035l1",
          "pl036l1",
          "pl037l1",
          "pl038l1",
          "pl039l1",
          "pl040l1",
          "pl041l1",
          "pl042l1",
          "pl043l1",
          "pl044l1",
          "pl045l1",
          "pl046l1",
          "pl047l1",
          "pl048l1",
          "pl049l1",
          "pl051l1",
          "pl052l1",
          "pl506l2",
          "pl508l1",
          "pl511l2",
          "pl512l2",
          "pl513l2",
          "pl514l2",
          "pl516l2",
          "pl517l2",
          "pt001l3",
          "pt002l2",
          "pt003l1",
          "pt004l2",
          "pt005l2",
          "pt007l1",
          "pt008l2",
          "pt009l1",
          "pt014l1",
          "pt016l0",
          "pt019l0",
          "pt505l1",
          "ro001l1",
          "ro002l1",
          "ro003l1",
          "ro004l1",
          "ro005l1",
          "ro006l1",
          "ro007l1",
          "ro008l1",
          "ro009l1",
          "ro010l1",
          "ro011l1",
          "ro012l1",
          "ro013l1",
          "ro014l1",
          "ro015l1",
          "ro016l1",
          "ro017l1",
          "ro018l1",
          "ro019l1",
          "ro020l1",
          "ro021l1",
          "ro022l1",
          "ro501l1",
          "ro502l1",
          "ro503l1",
          "ro504l1",
          "ro505l1",
          "ro506l1",
          "ro507l1",
          "ro508l1",
          "ro509l1",
          "ro510l1",
          "ro511l1",
          "ro512l1",
          "ro513l1",
          "rs001l1",
          "rs002l1",
          "rs003l1",
          "rs004l1",
          "rs005l1",
          "rs006l1",
          "rs008l1",
          "rs009l1",
          "rs011l0",
          "rs012l1",
          "rs013l1",
          "rs014l1",
          "rs015l1",
          "rs016l1",
          "se001l1",
          "se002l1",
          "se003l1",
          "se004l1",
          "se005l1",
          "se006l1",
          "se007l1",
          "se008l1",
          "se501l1",
          "se502l1",
          "se503l1",
          "se505l1",
          "si001l2",
          "si002l1",
          "sk001l1",
          "sk002l1",
          "sk003l1",
          "sk004l1",
          "sk005l1",
          "sk006l1",
          "sk007l1",
          "sk008l1",
          "tr001l1",
          "tr002l1",
          "tr003l1",
          "tr004l1",
          "tr006l1",
          "tr007l1",
          "tr008l1",
          "tr009l1",
          "tr010l1",
          "tr011l1",
          "tr012l1",
          "tr013l1",
          "tr014l1",
          "tr015l1",
          "tr016l1",
          "tr018l1",
          "tr019l1",
          "tr021l1",
          "tr022l1",
          "tr023l1",
          "tr024l1",
          "tr025l1",
          "tr026l1",
          "tr027l1",
          "tr028l1",
          "tr029l1",
          "tr030l1",
          "tr031l1",
          "tr032l1",
          "tr033l1",
          "tr034l1",
          "tr035l1",
          "tr036l1",
          "tr037l1",
          "tr038l1",
          "tr039l1",
          "tr040l1",
          "tr041l1",
          "tr042l1",
          "tr043l1",
          "tr044l1",
          "tr045l1",
          "tr046l1",
          "tr047l1",
          "tr048l1",
          "tr049l1",
          "tr050l1",
          "tr051l1",
          "tr052l1",
          "tr053l1",
          "tr054l1",
          "tr055l1",
          "tr056l1",
          "tr057l1",
          "tr058l1",
          "tr059l1",
          "tr060l1",
          "tr061l1",
          "tr062l1",
          "tr063l1",
          "tr064l1",
          "tr065l1",
          "tr066l1",
          "tr067l1",
          "tr068l1",
          "tr069l1",
          "tr070l1",
          "tr071l1",
          "tr072l1",
          "tr073l1",
          "tr074l1",
          "tr075l1",
          "tr076l1",
          "tr077l1",
          "tr078l1",
          "tr079l1",
          "uk001l3",
          "uk002l3",
          "uk003l2",
          "uk004l1",
          "uk006l3",
          "uk007l1",
          "uk008l3",
          "uk009l1",
          "uk010l3",
          "uk011l2",
          "uk012l2",
          "uk013l2",
          "uk014l1",
          "uk016l1",
          "uk017l2",
          "uk018l3",
          "uk019l3",
          "uk023l1",
          "uk024l1",
          "uk025l3",
          "uk026l1",
          "uk027l1",
          "uk029l1",
          "uk033l1",
          "uk050l1",
          "uk056l1",
          "uk515l1",
          "uk516l1",
          "uk517l1",
          "uk518l1",
          "uk520l2",
          "uk528l1",
          "uk539l1",
          "uk546l1",
          "uk550l0",
          "uk551l1",
          "uk552l0",
          "uk553l1",
          "uk557l1",
          "uk558l1",
          "uk559l2",
          "uk560l1",
          "uk562l2",
          "uk566l1",
          "uk568l1",
          "uk569l2",
          "uk571l1",
          "xk001l1",
          "xk002l1",
          "xk003l1"
        ],
        "epsg_codes": [
          "03035"],
        "documents": {
          "map.pdf": "_map.pdf$",
          "delivery_report.pdf": "_delivery_report.pdf$"
        },
        "excessive_layers_allowed": false,
        "boundary_source": "boundary_ua.gpkg"
      }
    },
    {
      "check_ident": "qc_tool.vector.attribute",
      "required": true,
      "parameters": {
        "layers": [
          "reference"
        ],
        "required": {
          "country": "string",
          "fua_name": "string",
          "fua_code": "string",
          "code_2018": "string",
          "class_2018": "string",
          "prod_date": "string",
          "identifier": "string",
          "comment": "string",
          "perimeter": "real",
          "area": "real"
        },
        "ignored": [
          "shape_area",
          "shape_length"
        ]
      }
    },
    {
      "check_ident": "qc_tool.vector.epsg",
      "required": true,
      "parameters": {
        "layers": [
          "reference"
        ],
        "epsg": 3035,
        "auto_identify_epsg": false
      }
    },
    {
      "check_ident": "qc_tool.vector.import2pg",
      "required": true
    },
    {
      "check_ident": "qc_tool.vector.inspire",
      "required": false,
      "parameters": {
        "layers": [
          "reference"
        ]
      }
    },
    {
      "check_ident": "qc_tool.vector.unique",
      "required": false,
      "parameters": {
        "layers": [
          "reference"
        ],
        "unique_keys": [
          "identifier"
        ]
      }
    },
    {
      "check_ident": "qc_tool.vector.enum",
      "required": false,
      "parameters": {
        "layers": [
          "reference"
        ],
        "column_defs": [
          [
            "code_2018",
            [
              "11100",
              "11210",
              "11220",
              "11230",
              "11240",
              "11300",
              "12100",
              "12210",
              "12220",
              "12230",
              "12300",
              "12400",
              "13100",
              "13300",
              "13400",
              "14100",
              "14200",
              "21000",
              "22000",
              "23000",
              "24000",
              "25000",
              "31000",
              "32000",
              "33000",
              "40000",
              "50000",
              "91000",
              "92000"
            ]
          ]
        ]
      }
    },
    {
      "check_ident": "qc_tool.vector.singlepart",
      "required": false,
      "parameters": {
        "layers": [
          "reference"
        ]
      }
    },
    {
      "check_ident": "qc_tool.vector.geometry",
      "required": false,
      "parameters": {
        "layers": [
          "reference"
        ]
      }
    },
    {
      "check_ident": "qc_tool.vector.area",
      "required": false,
      "parameters": {
        "layers": [
          "reference"
        ],
        "area_column_name": "area",
        "unit": 1,
        "tolerance": 0.5
      }
    },
    {
      "check_ident": "qc_tool.vector.gap",
      "required": false,
      "parameters": {
        "layers": [
          "reference"
        ],
        "du_column_name": "fua_code"
      }
    },
    {
      "check_ident": "qc_tool.vector.mmu",
      "required": false,
      "parameters": {
        "layers": [
          "reference"
        ],
        "complex_change": null,
        "general_where": [
          " layer.code_2018 LIKE '122%'",
          "OR",
          " (layer.code_2018 LIKE '1%'",
          "  AND layer.area >= 2500)",
          "OR",
          " (layer.code_2018 SIMILAR TO '[2-5]%'",
          "  AND layer.area >= 10000)",
          "OR",
          " layer.code_2018 LIKE '9%'"
        ],
        "exception_where": [
          " (meta.is_marginal",
          "  AND layer.area >= 100)",
          "OR",
          " EXISTS (SELECT FROM neighbours(meta.fid) WHERE code_2018 LIKE '9%')",
          "OR",
          " (layer.comment IS NOT NULL",
          "  AND has_comment(layer.comment, ARRAY['Area size exception (at Urban Atlas FUA boundary)',",
          "                                       'Area size exception (inside Urban Atlas FUA boundary)']))"
        ],
        "warning_where": [
          "(layer.code_2018 NOT LIKE '122%'",
          " AND EXISTS (SELECT FROM neighbours(meta.fid) WHERE code_2018 LIKE '122%')",
          " AND layer.area >= 500)"
        ]
      }
    },
    {
      "check_ident": "qc_tool.vector.mmw",
      "required": false,
      "parameters": {
        "layers": [
          "reference"
        ],
        "mmw": 10.0,
        "general_where": "FALSE",
        "exception_where": "layer.code_2018 LIKE '122%'"
      }
    },
    {
      "check_ident": "qc_tool.vector.overlap",
      "required": false,
      "parameters": {
        "layers": [
          "reference"
        ]
      }
    },
    {
      "check_ident": "qc_tool.vector.neighbour",
      "required": false,
      "parameters": {
        "layers": [
          "reference"
        ],
        "code_column_names": [
          "code_2018"
        ],
        "exception_where": [
          "FALSE"
        ],
        "error_where": [
          "layer.code_2018 NOT LIKE '122%'"
        ]
      }
    }
  ]
}
